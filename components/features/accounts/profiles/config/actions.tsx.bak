/**
 * UserProfile Actions Configuration
 * 
 * Defines actions available for profile management.
 */

import { Action } from '@/components/entityManager/components/actions/types';
import { UserProfile } from '../types';
import { Edit, CheckCircle, XCircle, Ban, Trash2, Eye } from 'lucide-react';

export const profileActions: Action<UserProfile>[] = [
  {
    id: 'view',
    type: 'navigation',
    label: 'View',
    icon: <Eye className="h-4 w-4" />,
    variant: 'ghost',
    path: (profile) => `/dashboard/profiles/${profile.id}`,
    permissions: ['view_userprofile'],
  },
  {
    id: 'edit',
    type: 'navigation',
    label: 'Edit',
    icon: <Edit className="h-4 w-4" />,
    variant: 'ghost',
    path: (profile) => `/dashboard/profiles/${profile.id}/edit`,
    permissions: ['change_userprofile'],
  },
  {
    id: 'approve',
    type: 'confirm',
    label: 'Approve',
    icon: <CheckCircle className="h-4 w-4" />,
    variant: 'default',
    confirmTitle: 'Approve Profile',
    confirmMessage: (profile) => `Are you sure you want to approve the profile for ${profile.user_name}?`,
    confirmButton: 'Approve',
    onConfirm: async (profile) => {
      console.log('Approving profile:', profile.id);
    },
    permissions: ['approve_userprofile'],
    visible: (profile) => profile.status === 'pending',
  },
  {
    id: 'reject',
    type: 'confirm',
    label: 'Reject',
    icon: <XCircle className="h-4 w-4" />,
    variant: 'destructive',
    confirmTitle: 'Reject Profile',
    confirmMessage: (profile) => `Are you sure you want to reject the profile for ${profile.user_name}?`,
    confirmButton: 'Reject',
    confirmButtonVariant: 'destructive',
    onConfirm: async (profile) => {
      console.log('Rejecting profile:', profile.id);
    },
    permissions: ['approve_userprofile'],
    visible: (profile) => profile.status === 'pending',
  },
  {
    id: 'suspend',
    type: 'confirm',
    label: 'Suspend',
    icon: <Ban className="h-4 w-4" />,
    variant: 'secondary',
    confirmTitle: 'Suspend Profile',
    confirmMessage: (profile) => `Are you sure you want to suspend the profile for ${profile.user_name}?`,
    confirmButton: 'Suspend',
    confirmButtonVariant: 'destructive',
    onConfirm: async (profile) => {
      console.log('Suspending profile:', profile.id);
    },
    permissions: ['change_userprofile'],
    visible: (profile) => profile.status === 'approved',
  },
  {
    id: 'delete',
    type: 'confirm',
    label: 'Delete',
    icon: <Trash2 className="h-4 w-4" />,
    variant: 'destructive',
    confirmTitle: 'Delete Profile',
    confirmMessage: (profile) => `Are you sure you want to delete the profile for ${profile.user_name}? This action cannot be undone.`,
    confirmButton: 'Delete Profile',
    confirmButtonVariant: 'destructive',
    onConfirm: async (profile) => {
      console.log('Deleting profile:', profile.id);
    },
    permissions: ['delete_userprofile'],
  },
];

export const profileBulkActions: Action<UserProfile>[] = [
  {
    id: 'bulk_approve',
    type: 'bulk',
    label: 'Approve Selected',
    icon: CheckCircle,
    variant: 'default',
    onExecute: async (profiles) => {
      console.log('Bulk approving profiles:', profiles.map(p => p.id));
    },
    permissions: ['approve_userprofile'],
  },
  {
    id: 'bulk_reject',
    type: 'bulk',
    label: 'Reject Selected',
    icon: XCircle,
    variant: 'destructive',
    onExecute: async (profiles) => {
      console.log('Bulk rejecting profiles:', profiles.map(p => p.id));
    },
    permissions: ['approve_userprofile'],
  },
  {
    id: 'bulk_delete',
    type: 'bulk',
    label: 'Delete Selected',
    icon: Trash2,
    variant: 'destructive',
    onExecute: async (profiles) => {
      console.log('Bulk deleting profiles:', profiles.map(p => p.id));
    },
    permissions: ['delete_userprofile'],
  },
];
